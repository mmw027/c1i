<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>4 · Rain on Glass</title>
<style>
html,body{
  margin:0;
  height:100%;
  overflow:hidden;
  background:linear-gradient(to bottom,#0b1028,#15224f,#2e3a56);
}
#overlay{
  position:absolute;
  top:0;left:0;width:100%;height:100%;
  backdrop-filter:blur(25px) brightness(1.1);
  background:rgba(255,255,255,0.08);
  transition:filter 0.3s;
}

/* lightning flash overlay */
.flash{
  position:absolute;
  top:0;left:0;width:100%;height:100%;
  background:rgba(255,255,255,0.8);
  opacity:0;pointer-events:none;
  transition:opacity 0.3s ease;
}

/* raindrop streaks */
.rain{
  position:absolute;
  top:0;left:0;width:2px;height:15px;
  background:rgba(255,255,255,0.25);
  filter:blur(0.3px);
  animation:fall linear infinite;
}
@keyframes fall{
  0%{transform:translateY(-20vh);}
  100%{transform:translateY(120vh);}
}

/* nav */
.nav{
  position:fixed;
  bottom:25px;left:50%;
  transform:translateX(-50%);
  display:flex;gap:25px;z-index:20;
}
.nav a{
  text-decoration:none;
  padding:10px 16px;
  border-radius:20px;
  background:rgba(255,255,255,0.6);
  color:#333;font-family:'Inter',sans-serif;
  font-size:.9rem;
  transition:.3s;
  backdrop-filter:blur(10px);
}
.nav a:hover{background:rgba(255,255,255,0.9);}
</style>
</head>
<body>

<div id="overlay"></div>
<div class="flash"></div>

<div class="nav">
  <a href="entry3.html">← Prev</a>
  <a href="index.html">Back</a>
  <a href="entry5.html">Next →</a>
</div>

<script>
// create rain streaks
for(let i=0;i<120;i++){
  const drop=document.createElement('div');
  drop.className='rain';
  drop.style.left=Math.random()*100+'%';
  drop.style.animationDuration=0.8+Math.random()*0.7+'s';
  drop.style.animationDelay=Math.random()*5+'s';
  document.body.appendChild(drop);
}

// lightning flash every 10s
const flash=document.querySelector('.flash');
setInterval(()=>{
  flash.style.opacity='1';
  setTimeout(()=>flash.style.opacity='0',200);
},10000);

// fog clearing effect
const overlay=document.getElementById('overlay');
let timeout;
document.addEventListener('mousemove',e=>{
  overlay.style.clipPath=`circle(120px at ${e.clientX}px ${e.clientY}px)`;
  clearTimeout(timeout);
  timeout=setTimeout(()=>{
    overlay.style.clipPath='circle(0 at 50% 50%)';
  },1500);
});
</script>
</body>
</html>
