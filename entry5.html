<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>5 · Night Glow</title>
<style>
html,body{
  margin:0;
  height:100%;
  overflow:hidden;
  background:linear-gradient(to bottom,#0d1b2a 0%,#1b263b 50%,#2d3561 100%);
}

/* street lamps */
.lamp{
  position:absolute;
  bottom:0;
  width:10px;
  background:rgba(60,60,80,0.7);
  cursor:pointer;
  transition:all 0.3s ease;
}
.lamp::before{
  content:'';
  position:absolute;
  top:-20px;
  left:50%;
  transform:translateX(-50%);
  width:35px;
  height:20px;
  background:rgba(80,80,100,0.5);
  border-radius:10px 10px 0 0;
}
.lamp::after{
  content:'';
  position:absolute;
  top:-20px;
  left:50%;
  transform:translateX(-50%);
  width:150px;
  height:150px;
  background:radial-gradient(circle,rgba(255,200,100,0) 0%,rgba(255,200,100,0) 70%,transparent 70%);
  border-radius:50%;
  transition:all 0.5s ease;
}

.lamp.on::after{
  background:radial-gradient(circle,rgba(255,200,100,0.35) 0%,rgba(255,220,120,0.15) 50%,transparent 70%);
  animation:flicker 4s ease-in-out infinite;
}

.lamp1{left:12%;height:42%;}
.lamp2{left:28%;height:48%;}
.lamp3{left:48%;height:45%;}
.lamp4{left:68%;height:50%;}
.lamp5{left:85%;height:44%;}

@keyframes flicker{
  0%,100%{opacity:1;}
  45%{opacity:0.85;}
  50%{opacity:1;}
  55%{opacity:0.9;}
}

/* neon reflections on ground */
.reflection{
  position:absolute;
  bottom:0;
  left:0;
  width:100%;
  height:35%;
  background:linear-gradient(to top,rgba(0,0,0,0.5) 0%,transparent 100%);
  pointer-events:none;
}

/* window lights in buildings */
.building{
  position:absolute;
  bottom:0;
  background:rgba(15,20,35,0.9);
}
.b1{left:0;width:20%;height:55%;}
.b2{left:20%;width:18%;height:70%;}
.b3{right:30%;width:22%;height:62%;}
.b4{right:0;width:30%;height:78%;}

.windowLight{
  position:absolute;
  width:18px;
  height:22px;
  background:rgba(255,220,150,0.3);
  animation:windowFlicker 10s ease-in-out infinite;
  transition:all 0.4s ease;
}
.windowLight.bright{
  background:rgba(255,220,150,0.7);
  box-shadow:0 0 15px rgba(255,220,150,0.5);
}

@keyframes windowFlicker{
  0%,100%{opacity:0.25;}
  50%{opacity:0.7;}
}

/* stars twinkling */
.star{
  position:absolute;
  width:2px;
  height:2px;
  background:rgba(255,255,255,0.7);
  border-radius:50%;
  animation:twinkle 4s ease-in-out infinite;
  box-shadow:0 0 3px rgba(255,255,255,0.5);
}

@keyframes twinkle{
  0%,100%{opacity:0.3;transform:scale(1);}
  50%{opacity:1;transform:scale(1.8);}
}

/* lonely figure */
.figure{
  position:absolute;
  bottom:15%;
  left:45%;
  width:35px;
  height:70px;
  background:rgba(40,40,60,0.6);
  border-radius:18px 18px 0 0;
  animation:lonely 8s ease-in-out infinite;
}

@keyframes lonely{
  0%,100%{left:45%;}
  50%{left:52%;}
}

/* glow orbs - click to create */
.glowOrb{
  position:absolute;
  border-radius:50%;
  background:radial-gradient(circle,rgba(255,180,100,0.6) 0%,rgba(255,140,80,0.3) 40%,transparent 70%);
  animation:orbFloat 6s ease-out forwards;
  pointer-events:none;
  box-shadow:0 0 30px rgba(255,180,100,0.4);
}

@keyframes orbFloat{
  0%{opacity:1;transform:translateY(0) scale(1);}
  100%{opacity:0;transform:translateY(-300px) scale(0.3);}
}

/* instruction */
.instruction{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  text-align:center;
  color:rgba(255,255,255,0.65);
  font-family:'Inter',sans-serif;
  font-size:1rem;
  font-weight:300;
  letter-spacing:2px;
  pointer-events:none;
  transition:opacity 2s ease;
  text-shadow:0 2px 15px rgba(0,0,0,0.5);
}
.instruction.hidden{opacity:0;}
.subtitle{
  font-size:0.8rem;
  margin-top:10px;
  opacity:0.7;
}

/* nav */
.nav{
  position:fixed;
  bottom:25px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:25px;
  z-index:100;
}
.nav a{
  text-decoration:none;
  padding:10px 16px;
  border-radius:20px;
  background:rgba(255,255,255,0.5);
  color:#333;
  font-family:'Inter',sans-serif;
  font-size:.9rem;
  transition:.3s;
  backdrop-filter:blur(10px);
}
.nav a:hover{background:rgba(255,255,255,0.7);}
</style>
</head>
<body>
<!-- Buildings -->
<div class="building b1"></div>
<div class="building b2"></div>
<div class="building b3"></div>
<div class="building b4"></div>

<!-- Street lamps -->
<div class="lamp lamp1"></div>
<div class="lamp lamp2"></div>
<div class="lamp lamp3"></div>
<div class="lamp lamp4"></div>
<div class="lamp lamp5"></div>

<!-- Lonely figure -->
<div class="figure"></div>

<!-- Reflection -->
<div class="reflection"></div>

<div class="instruction" id="instruction">
  Click lamps to light · Click anywhere for glow
  <div class="subtitle">dreaminess, solitude, light in darkness</div>
</div>

<div class="nav">
  <a href="entry4.html">← Back</a>
  <a href="entry6.html">Next →</a>
</div>

<script>
// Create random window lights in buildings
function createWindows() {
  const buildings = document.querySelectorAll('.building');
  buildings.forEach(building => {
    const rect = building.getBoundingClientRect();
    const rows = Math.floor(rect.height / 35);
    const cols = Math.floor(rect.width / 30);
    
    for (let r = 0; r < rows; r++) {
      for (let c = 0; c < cols; c++) {
        if (Math.random() > 0.35) {
          const light = document.createElement('div');
          light.className = 'windowLight';
          light.style.left = (c * 30 + 6) + 'px';
          light.style.top = (r * 35 + 8) + 'px';
          light.style.animationDelay = Math.random() * 10 + 's';
          
          // Click to brighten
          light.addEventListener('click', (e) => {
            e.stopPropagation();
            light.classList.toggle('bright');
          });
          
          building.appendChild(light);
        }
      }
    }
  });
}

// Create stars
function createStars() {
  for (let i = 0; i < 120; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = Math.random() * 100 + '%';
    star.style.top = Math.random() * 55 + '%';
    star.style.animationDelay = Math.random() * 4 + 's';
    star.style.animationDuration = (3 + Math.random() * 3) + 's';
    document.body.appendChild(star);
  }
}

// Click lamps to toggle
const lamps = document.querySelectorAll('.lamp');
lamps.forEach(lamp => {
  lamp.addEventListener('click', (e) => {
    e.stopPropagation();
    lamp.classList.toggle('on');
    hideInstruction();
  });
});

// Click anywhere to create glow orbs
document.addEventListener('click', (e) => {
  if (e.target.tagName !== 'A' && !e.target.classList.contains('lamp') && !e.target.classList.contains('windowLight')) {
    createGlowOrb(e.clientX, e.clientY);
    hideInstruction();
  }
});

function createGlowOrb(x, y) {
  const orb = document.createElement('div');
  orb.className = 'glowOrb';
  const size = 60 + Math.random() * 80;
  orb.style.width = size + 'px';
  orb.style.height = size + 'px';
  orb.style.left = (x - size / 2) + 'px';
  orb.style.top = (y - size / 2) + 'px';
  document.body.appendChild(orb);
  
  setTimeout(() => orb.remove(), 6000);
}

function hideInstruction() {
  const instruction = document.getElementById('instruction');
  setTimeout(() => {
    instruction.classList.add('hidden');
  }, 500);
}

createWindows();
createStars();
</script>
</body>
</html>